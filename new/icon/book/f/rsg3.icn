procedure main()
   local line
   defs := table()
   defs["vbar"] := [["|"]]
   defs["left"] := [["<"]]
   defs["right"] := [[">"]]
   while line := read() do
      (define | generate | diagnose)(line)
end
