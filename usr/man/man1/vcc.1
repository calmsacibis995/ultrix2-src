.TH vcc 1 
.SH NAME
vcc \- VAX C compiler
.SH SYNTAX
.B vcc
[ \fIoption\fR... ] \fIfile\fR...
.SH DESCRIPTION
The
.PN vcc
command invokes
the ULTRIX-32 VAX C compiler.
The 
.PN vcc
command accepts several types of arguments:
.PP
The
.PN vcc
command program treats
arguments whose names end with .c as
C source programs. The source code is compiled and the
resultant object code is left in a file
whose name is that of the source with a .o file extension.
If you choose to compile and load a single program in one
step, the 
.PN vcc
command program deletes the intermediate object code file.
.PP
The 
.PN vcc
command program treats arguments whose names end with .s as 
assembly source programs. These programs are passed to the assembler.
The assembler creates an output file with  a .o extension.
.PP
The 
.PN vcc
command program treats other command line arguments 
as either compiler or linker
option
arguments or C-compatible object
programs, produced during an earlier
.PN vcc
compilation or extracted from the libraries of C-compatible routines.
.SH OPTIONS
These options are accepted by
.B vcc.
See lk(1) for load-time options.
.TP 10
.B \-b
Do not pass the 
.B \-lc
library to lk(1) by default.
.TP 10 
.B \-c
Suppress the loading phase of the compilation and force
an object file to be produced even if only one program is compiled.
.TP 10 
\fB\-D\fIname=def
.br
.ns
.TP 10
\fB\-D\fIname\fR
Define the \fIname\fR to the preprocessor. This functions
as if an additional #define preprocessor directive was imbedded
in the source code.
If no definition is given, the name is defined as ``1''.
.TP 10
.B \-E
Run only the macro preprocessor on the named C programs and
send the result to the standard output.
.TP 10
.B \-Em
Run only the macro preprocessor on the named C programs and
produce the makefile dependencies.
.TP 10
.B \-f
Use single-precision rather than double-precision floating point
representation.
Procedure
arguments are still promoted to double-precision floating
point format.  Programs with a
large number of single-precision computations will run faster
with this option. However, a slight loss in precision may
result as intermediate results are saved using a
single-precision representation rather than the default double-precision
representation.
.TP 10
.B \-g
Generate additional symbol table information
for 
dbx(1).
This also passes the
.B \-lg
flag to lk(1).
.TP 10
\fB\-I\fIdir\fR
Seek \f(TR#include\fR files, whose names do not begin with a directory
specification,
first in the directory of the \fIfile\fR
argument, then in directories named in \fB\-I\fR options,
and finally in directories in a standard list.
.TP 10
\fB\-l\fIx
Use the specified library.
This option lists an abbreviation for the library name
/lib/lib\fIx\fR.a, where \fIx\fR is a
string.  If the library is not found,
.B lk
tries /usr/lib/lib\fIx\fR.a.  If that does not exist,
.B lk
tries /usr/local/lib/lib\fIx\fR.a.  A search for a library starts
when the library name is encountered, so the placement of a \fB\-l\fR
within the compilation or the linker command line is significant.
.TP 10
.B \-Md
Specify DFLOAT (the default) double-precision floating
point type and pass the \fB\-lc\fR flag
to lk(1).
.TP 10
.B \-Mg
Specify GFLOAT double precision floating point type
and pass the \fB\-lcg\fR flag to lk(1).
This option uses the GFLOAT version of \fBlibc\fR.  If the math
library is used with code compiled with the \fB\-Mg\fR flag, the
GFLOAT version is linked by specifying \fB\-lmg\fR on
the vcc(1) or lk(1) command.
.TP 10
\fB\-o \fIoutput\fR
Name the final output file \fIoutput\fR.  If this option is
used, the file a.out
is left undisturbed.  If the named file has a .o or .a
file extension, the following error message is displayed: \fB-o would
overwrite\fR.
.TP 10
\fB\-O\fR
Invoke the object-code improver.
.TP 10
.B \-p
Produce code
that counts the number of times each routine is called.
If loading takes place, replace the standard startup
routine with one that initially calls monitor(3)
and writes out a
mon.out
file upon normal termination of program execution.  The
prof(1) command can then be used to generate an execution profile.
.TP 10
.B \-pg
Produce counting code similar to that generated by 
.B \-p,
but invoke a run-time recording mechanism that keeps more
extensive statistics and produces a 
gmon.out
file at normal termination.
In addition, a profiling library is searched, rather than
the standard C library.  The
gprof(1) command can then be used to generate an execution profile.
.TP 10
\fB\-U\fIname\fR
Remove any initial definition of \fIname\fR.
.TP 10
.B \-v
Produce the listing file, complete with cross-reference and machine
code listing sections.
.TP 10
.B \-V
Compile the source code using vendor specific options. The available
options are described in detail in the
.I Guide to VAX C for ULTRIX-32.
The following is a list of the available options:
.nf
.PP
.ta 1.5i
cross_reference	Generate a cross reference listing section
debug		Generate a loadable module for use with dbx
define		Assign a specified value to a name
g_float		Use the G_floating point type
list		Generate a list file
machine_code	Generate the machine code listing section
object		Generate an object file with a specific name
optimize	Select code optimization
show		Include symbol and intermediate expansions
standard	Select portability mode
undefine	Revoke the assignment of a value to a name
warnings	Disable warning or informational messages
.fi
.TP 10
\fB\-w\fR
Suppress warning diagnostics.
.TP 10
\fB\-Y\fR
Compile the source code file for the System V environment.  
Defines SYSTEM_FIVE
for the preprocessor,
.PN cpp,
and if the loader is invoked,
specifies that the System V version of the C runtime library is
used.  In addition, if the math library is specified with the \fB\-lm\fR
option, the System V version will be used.
.SH DEFAULT SYMBOLS AND MACROS
The VAX C compiler recognizes the following predefined
symbols. The symbols are all assigned the value
one (1). You can use these symbols to separate
portable and nonportable code within your VAX C programs:
.PP
.nf
.ta 1.5i
vaxc	VAXC
vax11c	VAX11
vax	VAX
.fi
.PP
In addition to the VAX symbols definitions, listed above, the
ULTRIX-32 VAX C compiler provides the following default symbols:
.PP
.nf
.ta 1.5i
unix	Any UNIX system
bsd4_2	Berkeley UNIX Version 4.2
ultrix	ULTRIX-32 only
vax	VAX only (as opposed to PDP-11)
.fi
.PP
The VAX C compiler recognizes the following predefined macros:
.PP
.nf
.ta 1.5i
__DATE__	Evaluates to a string, specifying the compilation date
__FILE__	Evaluates to a string, specifying the current source file
__LINE__	Evaluates to an integer, specifying the line containing the 
		macro reference.
__TIME__	Evaluates to a string, specifying the compilation time
.fi
.RE
.SH RESTRICTIONS
The compiler ignores advice to put 
char, \fBunsigned char\fR,
short or \fBunsigned short\fR variables into registers.
.PP
If the
.B \-Mg
flag is used to produce GFLOAT code,
it must be used when compiling
all of the modules to be linked.
Use the
.B \-Mg
flag if 
you use the 
.PN vcc
command to indirectly invoke lk(1) to link the modules.  If
lk(1) is invoked directly, use the
.B \-lcg
flag rather than
.B \-lc flag.
If the math library is used, specify the
.B \-lmg
flag rather than the
.B \-lm
flag in order to use the GFLOAT version.	
.PP 
The compiler and the linker lk(1)
cannot detect the use of mixed double floating
point types.  If you use them, your program's
results may be erroneous. 
.SH DIAGNOSTICS
The diagnostics produced by VAX C are intended to be
self-explanatory.
Occasional messages may be produced by the assembler
or loader.
.SH FILES
.ta 1.5i 
file.c	input file
.br
file.o	object file
.br
a.out	loaded output
.br
/usr/bin/vcc	command program
.br
/lib/cpp	preprocessor
.br
/lib/cerrfile	error message file
.br
/lib/vaxc	compiler
.br
/lib/crt0.o	runtime startoff
.br
/lib/mcrt0.o	startoff for profiling
.br
/usr/lib/gcrt0.o	startoff for gprof-profiling
.br
/lib/libc.a	standard library 
.br
/usr/libcg.a	GFLOAT
version of the standard library 
.br
/usr/lib/libc_p.a	profiling library 
.br
/usr/include	standard directory for \f(TR#include\fR files
.br
/usr/man/man1/vcc.1	manual page
.br
mon.out	file produced for analysis by prof(1)
.br
gmon.out	file produced for analysis by gprof(1)
.SH "SEE ALSO"
adb(1), as(1), dbx(1), gprof(1), lk(1), prof(1), monitor(3) 
.br
Guide to VAX C
